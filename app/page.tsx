async function getData(){try{const res=await fetch(`${process.env.NEXT_PUBLIC_BASE_URL||''}/api/overview`,{cache:'no-store'});return res.ok?res.json():{ok:false};}catch{return{ok:false}}}
export default async function Page(){const data=await getData();const c=data?.counts||{suppliers:0,customers:0,invoices:0};return(<main className='grid gap-6'><div><h2 className='text-xl font-semibold mb-2'>Dashboard</h2><div className='grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4'><div className='border rounded p-4'><div className='text-sm text-gray-500'>Proveedores</div><div className='text-3xl font-bold'>{c.suppliers}</div></div><div className='border rounded p-4'><div className='text-sm text-gray-500'>Clientes</div><div className='text-3xl font-bold'>{c.customers}</div></div><div className='border rounded p-4'><div className='text-sm text-gray-500'>Facturas</div><div className='text-3xl font-bold'>{c.invoices}</div></div></div></div></main>)}
